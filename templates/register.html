<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funding Application Project</title>
    <script>
        function validatePassword() {
            const password = document.getElementById("password").value;
            const confirm_password = document.getElementById("confirm_password").value;
            const message = document.getElementById("message");
            const confirmMessage = document.getElementById("confirm_message");

            let strengthMessage = "";

            if (password.length < 8) {
                strengthMessage = "Password must be at least 8 characters long.";
            } else if (!/[A-Z]/.test(password)) {
                strengthMessage = "Password must contain at least one uppercase letter.";
            } else if (!/[a-z]/.test(password)) {
                strengthMessage = "Password must contain at least one lowercase letter.";
            } else if (!/\d/.test(password)) {
                strengthMessage = "Password must contain at least one number.";
            } else {
                strengthMessage = "Password is strong.";
            }

            message.textContent = strengthMessage;
            message.style.color = strengthMessage === "Password is strong." ? "green" : "red";

            if (password !== confirm_password) {
                confirmMessage.textContent = "Passwords do not match.";
                confirmMessage.style.color = "red";
            } else {
                confirmMessage.textContent = "Passwords match.";
                confirmMessage.style.color = "green";
            }
        }
    </script>
</head>
<body>

    <h1>Register Page</h1>
    <a href="{{ url_for('index') }}">Link to Login Page</a>
    
    <!-- Flash messages section -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <ul class=flashes>
        {% for message in messages %}
        <div class="alert alert-success fade show" role="alert">
          {{ message }}
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <!-- form -->

    <form method="POST" action="{{ url_for('register') }}">
        {{ form.csrf_token() }}
        {{ form.hidden_tag() }}
        
        {{ form.username.label }} {{ form.username() }}
        {{ form.email_address.label }} {{ form.email_address() }}
        
        {{ form.password.label }}
        {{ form.password(id='password', onkeyup='validatePassword()') }}
        <small id="message"></small>
        
        {{ form.confirm_password.label }}
        {{ form.confirm_password(id='confirm_password', onkeyup='validatePassword()') }}
        <small id="confirm_message"></small>
        
        {{ form.company_name.label }} {{ form.company_name() }}
        {{ form.user_type.label }} {{ form.user_type() }}
        
        {{ form.submit() }}
    </form>
    
</body>
</html>


<!-- <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Funding Application Project</title>
</head>
<body>

    <h1>Register Page</h1>
    <a href="{{url_for('index')}}">Link to Login Page</a>
    
    <form method="POST" action="{{ url_for('register') }}">
        {{ form.csrf_token }}
        {{form.hidden_tag()}}
        {{form.username.label}} {{form.username}}
        {{form.email_address.label}} {{form.email_address}}
        {{form.password.label}} {{form.password}}
        {{form.company_name.label}} {{form.company_name}}
        {{form.user_type.label}} {{form.user_type}}

        {{form.submit}}
    </form>
    
</body>
</html> -->